(function(){var e={46700:function(e,t,s){var o={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function r(e){var t=a(e);return s(t)}function a(e){if(!s.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=a,e.exports=r,r.id=46700},23301:function(e,t,s){"use strict";var o=s(49963),r=s(66252);function a(e,t,s,o,a,n){const l=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(l)}var n={name:"App",components:{}},l=s(83744);const i=(0,l.Z)(n,[["render",a]]);var c=i,u=s(42119),d=s(27207),m=s(3577),g=s.p+"img/icon-left-font-monochrome-black.5c8eefac.svg",p=s.p+"img/icon.faf9e05d.svg";const f=e=>((0,r.dD)("data-v-559ac4df"),e=e(),(0,r.Cn)(),e),h={class:"container"},E={class:"row"},v={class:"col-md-12 bloc-list"},D={class:"card ccard radius-t-0 h-auto"},j=f((()=>(0,r._)("div",{class:"position-tl w-102 border-t-3 brc-primary-tp3 ml-n1px mt-n1px"},null,-1))),w={class:"card-header pb-2 brc-secondary-l3"},b={class:"head-left"},N=f((()=>(0,r._)("i",{class:"fa fa-arrow-left text-95"},null,-1))),k=(0,r.Uk)(" Retour "),S=[N,k],A=f((()=>(0,r._)("img",{class:"logoTop",src:g,alt:"logo groupomania"},null,-1))),U=f((()=>(0,r._)("h5",{class:"card-title mb-0 mb-md-0 text-dark-m3"}," UTILISATEURS ",-1))),T=f((()=>(0,r._)("div",{role:"button",class:"d-flex flex-wrap align-items-center my-2 bgc-secondary-l4 bgc-h-secondary-l3 radius-1 p-25 d-style"},[(0,r._)("span",{class:"text-default-d3 text-90 text-600"}," Avatar "),(0,r._)("span",{class:"text-default-d3 text-90 text-600"}," Nom Prénom "),(0,r._)("span",{class:"text-default-d3 text-90 text-600 text-wrap"},[(0,r.Uk)(" Inscrit depuis le: "),(0,r._)("span",{class:"text-80"})])],-1))),_={class:"card-body pl-1 pt-1 pb-1"},y=["onClick"],I={class:"mr-25 w-4 h-4 overflow-hidden text-center border-3 text-default-d3 text-90 text-600 radius-round shadow-sm d-zoom-1"},P={class:"mr-25 w-4 h-4 overflow-hidden text-center border-1 brc-secondary-m2 radius-round shadow-sm d-zoom-2"},O=["src"],x={key:1,alt:"avatar",src:p,class:"h-4 w-4"},R={class:"text-default-d3 text-90 text-600"},L={class:"ml-auto text-default-d3 text-90 text-600 text-wrap"};function C(e,t,s,a,n,l){const i=(0,r.up)("fa");return(0,r.wg)(),(0,r.iD)("div",h,[(0,r._)("div",E,[(0,r._)("div",v,[(0,r._)("div",D,[j,(0,r._)("div",w,[(0,r._)("div",b,[(0,r._)("span",{class:"retour",onClick:t[0]||(t[0]=e=>l.goToProfilPage())},S),A]),(0,r._)("div",null,[U,(0,r.wy)((0,r._)("input",{class:"search-input mb-0 mt-1 pb-0","onUpdate:modelValue":t[1]||(t[1]=t=>e.searchUser=t),type:"search",id:"search",placeholder:"rechercher",autocomplete:"off"},null,512),[[o.nr,e.searchUser]])])]),T,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.filterUser,(e=>((0,r.wg)(),(0,r.iD)("div",_,[(0,r._)("div",{role:"button",onClick:t=>l.UserDetail(e.id),class:"d-flex flex-wrap align-items-center my-2 bgc-secondary-l4 bgc-h-secondary-l3 radius-1 p-25 d-style"},[(0,r._)("span",I,[(0,r.Wm)(i,{icon:["far","trash-alt"],onClick:t=>l.deleteUser(e.id)},null,8,["onClick"])]),(0,r._)("span",P,[e.media?((0,r.wg)(),(0,r.iD)("img",{key:0,alt:"avatar",src:e.media,class:"h-4 w-4"},null,8,O)):((0,r.wg)(),(0,r.iD)("img",x))]),(0,r._)("span",R,(0,m.zw)(e.firstName)+" "+(0,m.zw)()+" "+(0,m.zw)(e.lastName),1),(0,r._)("span",L,(0,m.zw)(l.date(e.createdAt)),1)],8,y)])))),256))])])])])}var z=s(33907),$=s(30381),F=s.n($),M=s(20560);console.log(" BEFORE tout");var q={name:"userList",data:function(){return{detailUser:!0,searchUser:""}},beforeCreate:()=>{},created:()=>{console.log("  CREATED")},mounted:()=>{console.log("  MOUNTED",userId)},created:function(){console.log("CREATED"),this.$store.dispatch("getAllUsersData")},computed:{...(0,z.mapState)({AllUsers:"allsUsersData",dataArt:"artData",OneUserData:"useData"}),filterUser(){return this.AllUsers.filter((e=>e.firstName.toLowerCase().includes(this.searchUser.toLowerCase())))}},methods:{UserDetail:async function(e){this.detailUser,console.log("this.DetailUser",this.detailUser),await this.$store.dispatch("getUserData",e).then((e=>{console.log("RES USER-DATA ADMINPAGE -------\x3e",e)})),console.log("BOUTON USER",this.DetailUser)},date(e){return F()(e).format("DD/MM/YYYY ")},goToProfilPage:function(){this.$router.push("../components/profil")},goToAdminPage:function(){console.log("GO-TO-ADMIN-PAGE"),this.$router.push("../user/admin")},deleteUser(e){const t=window.confirm("Voulez-vous vraiment supprimer ce compte ?");t&&(console.log("USER-ID PROFIL DELETE",e),this.$store.dispatch("deleteUser",e).then((e=>{e&&(console.log("RESOLVE PROFIL PAGE DELETE ------\x3e",e.data.message),alert("le compte a bien été supprimé"),this.$router.push("/profil"))})).catch((e=>{console.log("ERREUR REQUETE PROFIL DELETE USER------\x3e",e),alert("Requete refusée")})))}}};const K=(0,l.Z)(q,[["render",C],["__scopeId","data-v-559ac4df"]]);var X=K,B=s(78199),V=s.p+"img/icon.ad1aa237.png";const Z={class:"container d-flex justify-content-center align-items-center"},G={class:"row col-12 col-lg-10 col-xl-10"},Y={class:"navBar mb-3 pd-3 d-flex justify-content-between align-items-center"},W=(0,r._)("img",{class:"logoTop",src:B,alt:"logo groupomania"},null,-1),H=[".class"],Q={class:"card"},J={class:"col-md-12 mt-2 text-center"},ee=(0,r._)("div",{class:"user text-center"},null,-1),te={class:"user text-center"},se={key:0},oe={class:"upper"},re={class:"profile"},ae={key:0,id:"userImg",src:V,class:"rounded-circle",width:"80",alt:"logo groupomanias"},ne=["src"],le={class:"avis-media mt-1 mb-0"},ie={key:0},ce={class:"mt-1 text-center"},ue={class:"mt-3"},de={key:0,id:"adminUser"},me={class:"d-flex list-Foot justify-content-evently align-items-center px-1"},ge={class:"stats"},pe=(0,r._)("h6",{class:"mt-3"},"Articles",-1),fe={class:"stat"},he={class:"stats"},Ee=(0,r._)("h6",{class:"mt-3"},"Commentaires",-1),ve={class:"stat"},De={class:"stats"},je=(0,r._)("h6",{class:"mt-3"},"Inscrit le:",-1),we={class:"stat"},be=(0,r._)("div",{class:"navBar mt-3 d-flex justify-content-between"},[(0,r._)("img",{class:"logoTop",src:B,alt:"logo groupomania"}),(0,r._)("ul",{class:"footerList"},[(0,r._)("li",null,[(0,r._)("a",{class:"contact",href:"mailto:contact@groupomania.com"},"Contact")]),(0,r._)("li",null,"Avis légal")])],-1);function Ne(e,t,s,o,a,n){const l=(0,r.up)("fa");return(0,r.wg)(),(0,r.iD)("div",Z,[(0,r._)("div",G,[(0,r._)("div",Y,[W,(0,r._)("div",{".class":e.powerOff},[(0,r.Wm)(l,{icon:["fas","power-off"],onClick:t[0]||(t[0]=e=>n.disconnect())})],8,H)]),(0,r._)("div",Q,[(0,r._)("div",J,[ee,(0,r._)("div",te,["admin"==e.userData.role?((0,r.wg)(),(0,r.iD)("span",se,[(0,r._)("button",{class:"btn btn-sm follow mt-0",onClick:t[1]||(t[1]=(...e)=>n.goToUsersData&&n.goToUsersData(...e))}," Liste Des utilsateurs ")])):(0,r.kq)("",!0),(0,r._)("span",null,[(0,r._)("button",{class:"btn btn-sm follow mt-0",onClick:t[2]||(t[2]=(...e)=>n.goToUpdateProfil&&n.goToUpdateProfil(...e))},"Modifier mon profil")]),(0,r._)("span",null,[(0,r._)("button",{class:"btn btn-sm follow mt-0",onClick:t[3]||(t[3]=(...e)=>n.goToFilActu&&n.goToFilActu(...e))}," Allez au fil d'actualité ")]),(0,r._)("span",null,[(0,r._)("button",{class:"btn btn-danger btn-sm follow mt-0",onClick:t[4]||(t[4]=t=>n.deleteUser(e.userData.id))}," Effacer mon compte ")])])]),(0,r._)("div",oe,[(0,r._)("div",re,[e.userData.media?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("img",ae)),e.userData.media?((0,r.wg)(),(0,r.iD)("img",{key:1,id:"userImg",src:e.userData.media,class:"rounded-circle",width:"80",alt:"Photo de profil"},null,8,ne)):(0,r.kq)("",!0)])]),(0,r._)("div",le,[e.userData.media?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("p",ie,"Choisissez une photo de profil"))]),(0,r._)("div",ce,[(0,r._)("h4",ue,(0,m.zw)(e.userData.firstName)+" "+(0,m.zw)(e.userData.lastName),1),"admin"==e.userData.role?((0,r.wg)(),(0,r.iD)("p",de,"Compte administrateur")):(0,r.kq)("",!0),(0,r._)("div",me,[(0,r._)("div",ge,[pe,(0,r._)("span",fe,(0,m.zw)(e.CountArticle),1)]),(0,r._)("div",he,[Ee,(0,r._)("span",ve,(0,m.zw)(e.CountComment),1)]),(0,r._)("div",De,[je,(0,r._)("span",we,(0,m.zw)(n.dateTime(e.userData.createdAt)),1)])])])]),be])])}s(43653);const ke=s(6230);let Se="",Ae="",Ue=$cookies.get("user");Ue&&(console.log("USER COOKIES",Ue),Se=Ue.userId,Ae=Ue.token);var Te={name:"profil",beforeMount:function(){console.log("BEFORE MOUNT");let e=$cookies.get("user");console.log("USER COOKIES",e),this.userId=e.userId,this.userToken=e.token,console.log("USER-DATA--\x3e",this.userData),this.getUserData(this.userId)},beforeCreate:function(){console.log("BEFORE CREATED"),console.log("USER-DATA--\x3e",this.userData)},created:function(){console.log("CREATED"),console.log("USER-DATA--\x3e",this.userData)},data:()=>({mode:"profil",fileSelected:null,name:"",userId:"",firstName:"",lastName:"",email:"",password:"",userToken:""}),props:{},computed:{...(0,z.mapState)({userData:"userData",CountArticle:"articles",CountComment:"comments",UpdateData:"formData",usersId:"userId"}),goToUsersData:function(){this.$router.push("/UserList")}},methods:{goToProfil:function(){this.mode="profil"},goToFilActu:function(){this.$router.push("/postPage")},goToUpdateProfil:function(){this.$router.push("/updateProfil")},disconnect(){console.log("DISCONNECT"),$cookies.remove("user"),Se="",Ae="",this.$router.push("/")},FileUpload(e){console.log("EVENT",e),this.fileSelected=e.target.files[0],console.log("fichier Image",this.fileSelected)},dateTime(e){return F()(e).format("DD-MM-YYYY")},getUserData(e){this.$store.dispatch("getUserData",e).then((e=>{console.log("REPONSE USER DATA Profil",e)})).catch((e=>{console.log(e)}))},onSubmit(){var e=new ke;e.append("media",this.fileSelected,this.fileSelected.name),e.append("firstName",this.firstName),e.append("lastName",this.lastName),e.append("email",this.email),e.append("userId",Se),console.table("this.firstName ",...e.entries()),this.$store.dispatch("updateUser",e).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},deleteUser(e){const t=window.confirm("Voulez-vous vraiment supprimer votre compte ?");t&&(console.log("USER-ID PROFIL DELETE",e),this.$store.dispatch("deleteUser",e).then((e=>{e&&(console.log("RES PROFIL PAGE DELETE ------\x3e",e.data.message),alert("votre compte a été supprimé"),this.disconnect())})).catch((e=>{console.log("ERREUR REQUETE PROFIL DELETE USER------\x3e",e)})))}}};const _e=(0,l.Z)(Te,[["render",Ne]]);var ye=_e;const Ie=[{name:"postPage",path:"/postPage",component:()=>s.e(583).then(s.bind(s,31699))},{name:"login",path:"/",component:d.Z},{name:"profil",path:"/profil",component:ye},{name:"updateProfil",path:"/updateProfil",component:()=>s.e(646).then(s.bind(s,13646))},{name:"userList",path:"/UserList",component:X}],Pe=(0,u.p7)({history:(0,u.PO)(),routes:Ie});var Oe=Pe,xe=s(57810),Re=s(78947),Le=s(56024);Re.vI.add(Le.ILF),(0,o.ri)(c).use(Oe).use(M.Z).component("fa",xe.GN).mount("#app")},20560:function(e,t,s){"use strict";s.d(t,{Z:function(){return u}});s(81486);var o=s(33907);s(43653);s(66123);const r=s(43653),a=(s(33907),r.create({baseURL:"http://localhost:3000/"}));let n="",l="",i=$cookies.get("user");i&&(console.log("USER COOKIES",i),n=i.userId,l=i.token);const c=(0,o.createStore)({state:{status:"",user:"",userId:"",logoutErr:"",PostData:{},articles:"",updateUser:{firstName:"",lastName:"",email:"",userId:"",token:"",media:""},userToken:"",formData:{userId:"",firstName:"",lastName:"",email:"",password:"",media:""},useData:"",allsUsersData:"",userData:"",alldata:"",artData:""},mutations:{setStatus:(e,t)=>{e.status=t},LikeArr:(e,t)=>{e.likeArr=t},logUser:(e,t)=>{console.log("COOKIES",t),e.user=t,$cookies.set("user",JSON.stringify(t))},UserData:(e,t)=>{e.userData=t},AllsUsersData:(e,t)=>{e.allsUsersData=t},ArtData:(e,t)=>{e.artData=t},UseData:(e,t)=>{e.useData=t},Comment:(e,t)=>{e.comment=t},AllData:(e,t)=>{e.alldata=t},logoutErr:(e,t)=>{e.logoutErr=t},FormData:(e,t)=>{e.formData=t},Articles:(e,t)=>{e.articles=t},Comments:(e,t)=>{e.comments=t},UsersId:(e,t)=>{e.usersId=t}},computed:{},actions:{signupPost:({commit:e},t)=>(e("setStatus","loading"),new Promise(((s,o,r)=>{a.post("/signup",t).then((e=>{console.log("REPONSE",e),s(e)})).catch((t=>{e("logoutErr",t),o(t),console.log("ERREUR",t)}))}))),loginPost:({commit:e},t)=>(e("setStatus","loading"),console.log("USER-DATA LOGIN INDEX",t),new Promise(((s,o)=>{a.post("/login",t).then((t=>{e("setStatus",""),e("logUser",t.data),s(t),console.log("logUser",logUser)})).catch((t=>{e("setStatus","error_login"),console.log("ERREUR",t),o(t)}))}))),deleteUser:({commit:e},t)=>{const s=l;console.log("INDEX-TOKEN-USER CONNECT-------\x3e",s),console.log("INDEX-ID-DELETE------\x3e",t),console.log("INDEX-ID-USUR CONNECT------\x3e",n);const o={id:t};return e("setStatus","loading"),new Promise(((t,r)=>{a.put("/user/delete",o,{headers:{Authorization:`Bearer ${s}`}}).then((s=>{e("setStatus",""),s&&localStorage.removeItem("user"),t(s)})).catch((t=>{e("setStatus","error_login"),console.log("ça deconne delete index store"),r(t)}))}))},updateUser:({commit:e},t)=>{const s=l;return console.log("TOKEN",s),e("setStatus","loading"),console.log("UPDATE USER INDEX",t.entries()),new Promise(((o,r)=>{a.put("/user/update",t,{headers:{Authorization:`Bearer ${s}`}}).then((t=>{console.log("RESPONSE INDEX --\x3e",t),e("setStatus","loading"),o(t),console.log("REPONSE UPDATE",t)})).catch((t=>{e("setStatus","error_create"),r(t),console.log("ERREUR",t),console.log("ça ne fonctionne pas")}))}))},getUserData:({commit:e},t)=>{const s=l;console.log("TOKEN",s);const o=t;console.log(t),a.get(`/user?id=${o}`,{headers:{Authorization:`Bearer ${s}`}}).then((t=>{console.log("REPONSE USER-DATA INDEX STORE",t.data);const s=t.data.article.length;e("Articles",s);const o=t.data.comment.length;console.log("Articles",o),e("Comments",o),t?(e("UserData",t.data),console.log("REPONSE USER-DATA INDEX STORE IF",t.data)):console.log("pas de data")})).catch((e=>{console.log("reponse err",e)}))},getAllUsersData:async({commit:e},t)=>{const s=l;console.log("TOKEN",s),await a.get("/user/all",{headers:{Authorization:`Bearer ${s}`}}).then((t=>{console.log("reponse",t.data),e("AllsUsersData",t.data),t?console.log("reponse",t.data):console.log("erreur data")})).catch((e=>{console.log("reponse err",e)}))},uploadPost:({commit:e},t)=>{console.log("UPLOAD-POST INDEX",...t.entries()),e("setStatus","loading");const s=l;return console.log("TOKEN",s),new Promise(((o,r)=>{a.post("/article/post",t,{headers:{Authorization:`Bearer ${s}`}}).then((t=>{console.log("RESPONSE INDEX --\x3e",t),e("setStatus","loading"),e("ArtData",t.data),o(t)})).catch((t=>{e("setStatus","error_create"),r(t),console.log("ça ne fonctionne pas")}))}))},updatePost:({commit:e},t)=>{const s=l;return console.log("TOKEN",s),e("setStatus","loading"),console.log("UPDATE USER INDEX",t.entries()),new Promise(((o,r)=>{a.put("/article/update",t,{headers:{Authorization:`Bearer ${s}`}}).then((t=>{console.log("RESPONSE INDEX --\x3e",t),e("setStatus","loading"),o(t),console.log("REPONSE UPDATE",t)})).catch((t=>{e("setStatus","error_create"),r(t),console.log("ERREUR",t),console.log("ça ne fonctionne pas")}))}))},uploadComment:({commit:e},t)=>{console.log("UPLOAD-POST INDEX",...t.entries()),e("setStatus","loading");const s=l;return console.log("TOKEN",s),new Promise(((o,r)=>{a.post("/comment/post",t,{headers:{Authorization:`Bearer ${s}`}}).then((t=>{console.log("RESPONSE INDEX --\x3e",t),e("setStatus","loading"),o(t)})).catch((t=>{e("setStatus","error_create"),r(t),console.log("ça ne fonctionne pas")}))}))},getAllArticle:({commit:e})=>{const t=l;console.log("TOKEN",t),e("setStatus","loading");return console.log("getAllArticle"),new Promise(((s,o)=>{a.get("/article/all",{headers:{Authorization:`Basic ${t}`}}).then((t=>{const o=[];e("setStatus","loading");const r=t.data.reverse();e("ArtData",r);const a=t.data,n=(a.article,a.map((e=>e.comment))),l=a.map((e=>e.dislike));e("LikeArr",l);l.map((e=>e.like)).reduce(((e,t)=>e+t));e("Comments",n),console.log("RESDATA  COMMENTS",t.data),console.table("RES.DATA LIKE INDEX 1",l),console.table("RES.DATA LIKE INDEX 2",l[2]),e("UsersId",o),s(t)})).catch((t=>{e("setStatus","error_create"),o(t),console.log("ça ne fonctionne pas post art")}))}))},deleteArticle:({commit:e},t)=>{const s=l;return console.log("INDEX-TOKEN-DELETE ARTICLE-------\x3e",s),console.log("INDEX-ID-DELETE ARTICLE------\x3e",t),e("setStatus","loading"),new Promise(((o,r)=>{a.put("/article/delete",t,{headers:{Authorization:`Bearer ${s}`}}).then((t=>{e("setStatus",""),o(t)})).catch((t=>{e("setStatus","error_login"),console.log("ça deconne delete index store"),r(t)}))}))},deleteComment:({commit:e},t)=>{const s=l;return console.log("INDEX-TOKEN-DELETE COMMENT-------\x3e",s),console.log("INDEX-ID-DELETE COMMENT------\x3e",t),e("setStatus","loading"),new Promise(((o,r)=>{a.put("/comment/delete",t,{headers:{Authorization:`Bearer ${s}`}}).then((t=>{e("setStatus",""),o(t)})).catch((t=>{e("setStatus","error_login"),console.log("ça deconne delete index store"),r(t)}))}))},likePost:({commit:e},t)=>{const s=l;return console.log("INDEX-TOKEN-LIKE-POST-------\x3e",s),console.log("INDEX-ID-LIKE-POST------\x3e",t),e("setStatus","loading"),new Promise(((o,r)=>{a.post("/like/post",t,{headers:{Authorization:`Bearer + ${s}`}}).then((e=>{console.log("RESPONSE LIKE INDEX",e),o(e)})).catch((t=>{e("setStatus","error_login"),e("errorLike",t),console.log("Erreur 401 LIKE-POST index store",t),r(t)}))}))}}});var u=c},27207:function(e,t,s){"use strict";s.d(t,{Z:function(){return q}});var o=s(66252),r=s(49963),a=s(3577),n=s.p+"img/icon-left-font-monochrome-white.7d488b0c.png";const l=e=>((0,o.dD)("data-v-18d8d95c"),e=e(),(0,o.Cn)(),e),i={class:"wrapper"},c={class:"container"},u={class:"login-form"},d=l((()=>(0,o._)("img",{src:n,alt:"logo",width:"100",height:"80"},null,-1))),m=l((()=>(0,o._)("span",{class:"form-title"},"Bienvenue sur votre reseau social Groupomania",-1))),g=l((()=>(0,o._)("span",{class:"form-title"},"Se connecter",-1))),p={key:0,class:"form-group"},f=l((()=>(0,o._)("label",{for:"nom"},"Nom",-1))),h={key:1,class:"error"},E={key:2,class:"form-group"},v=l((()=>(0,o._)("label",{for:"prenom"},"Prénom",-1))),D={key:3,class:"error"},j={class:"form-group"},w=l((()=>(0,o._)("label",{for:"email"},"Email",-1))),b={key:4,class:"error"},N={class:"form-group"},k=l((()=>(0,o._)("label",{for:"password"},"Mot de passe",-1))),S={key:5,class:"error"},A={class:"form-group"},U=l((()=>(0,o._)("label",{for:"submit",class:"btn-label"},"Se connecter",-1))),T=["keyUp"],_={key:6,class:"form-group"},y=l((()=>(0,o._)("label",{for:"submit",class:"btn-label"},"S'enregistrer",-1))),I={key:7},P=(0,o.Uk)("Vous n´êtes pas encore inscrit "),O=(0,o.Uk)("."),x={key:8},R=(0,o.Uk)("Vous êtes déjà inscrit "),L=(0,o.Uk)(".");function C(e,t,s,n,l,C){return(0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("div",c,[(0,o._)("form",u,[d,m,g,"signup"==e.mode?((0,o.wg)(),(0,o.iD)("div",p,[f,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.firstName=t),type:"text",name:"nom",class:"form-control",placeholder:"Nom",required:""},null,512),[[r.nr,e.firstName]])])):(0,o.kq)("",!0),e.errorFirstName.length?((0,o.wg)(),(0,o.iD)("div",h,(0,a.zw)(e.errorFirstName),1)):(0,o.kq)("",!0),"signup"==e.mode?((0,o.wg)(),(0,o.iD)("div",E,[v,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.lastName=t),type:"text",name:"prenom",class:"form-control",placeholder:"Prénom",required:""},null,512),[[r.nr,e.lastName]])])):(0,o.kq)("",!0),e.errorLastName.length?((0,o.wg)(),(0,o.iD)("div",D,(0,a.zw)(e.errorlastName),1)):(0,o.kq)("",!0),(0,o._)("div",j,[w,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.Email=t),type:"email",name:"email",class:"form-control",placeholder:"Email",required:""},null,512),[[r.nr,e.Email]])]),e.errorEmail.length?((0,o.wg)(),(0,o.iD)("div",b,(0,a.zw)(e.errorEmail),1)):(0,o.kq)("",!0),(0,o._)("div",N,[k,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.password=t),type:"password",name:"password",class:"form-control",placeholder:" Votre mot de passe",required:""},null,512),[[r.nr,e.password]])]),e.errorPassword.length?((0,o.wg)(),(0,o.iD)("div",S,(0,a.zw)(e.errorPassword),1)):(0,o.kq)("",!0),(0,o._)("div",A,[U,"login"==e.mode?((0,o.wg)(),(0,o.iD)("input",{key:0,name:"submit",class:"btn btn-primary btn-lg btn-block",keyUp:e.enter,value:"Se connecter",onClick:t[4]||(t[4]=e=>C.loginPost())},null,8,T)):(0,o.kq)("",!0)]),"signup"==e.mode?((0,o.wg)(),(0,o.iD)("div",_,[y,(0,o._)("input",{name:"submit",class:"btn btn-primary btn-lg btn-block",keyUp:"enter",value:"S'enregistrer",onClick:t[5]||(t[5]=e=>C.checkForm())})])):(0,o.kq)("",!0),"login"==e.mode?((0,o.wg)(),(0,o.iD)("p",I,[P,(0,o._)("span",{onClick:t[6]||(t[6]=(...e)=>C.goToSignup&&C.goToSignup(...e))},"Inscrivez-vous"),O])):(0,o.kq)("",!0),"signup"==e.mode?((0,o.wg)(),(0,o.iD)("p",x,[R,(0,o._)("span",{onClick:t[7]||(t[7]=(...e)=>C.goToLogin&&C.goToLogin(...e))},"Connectez-vous"),L])):(0,o.kq)("",!0)])])])}var z=s(33907),$={name:"Login",props:{},data:function(){return{mode:"login",errorFirstName:[],errorLastName:[],errorEmail:[],errorPassword:[],lastNameErrorMsg:"",firstName:"",lastName:"",Email:"",password:""}},computed:{...(0,z.mapState)(["status"])},methods:{goToSignup:function(){this.mode="signup"},goToLogin:function(){this.mode="login"},checkForm:function(){return this.firstName?this.validFirstName(this.firstName)?this.lastName?this.validLastName(this.lastName)?this.Email?this.validEmail(this.Email)?this.password?this.validPassword(this.password)?void this.signupPost():(console.log("THIS:PASSWORD",this.password),this.errorPassword.push("* Mot de passe de 8 a 20 caractères dont 1 special et 1 chiffre * "),!1):(this.errorPassword.push("* l'adresse Email doit être renseignée."),!1):(console.log("THIS:EMAIL",this.Email),this.errorEmail.push("* Adresse email non valide"),!1):(this.errorEmail.push("* l'adresse Email doit être renseignée."),!1):(this.errorLastName.push("* Le prénom ne doit pas contenir de caractères spéciaux"),!1):(this.errorLastName.push(" * Le prénom doit être renseigné."),!1):(this.errorFirstName.push(" * Le nom ne doit pas contenir de caractères spéciaux"),!1):(this.errorFirstName.push(" * Le nom doit être renseigné."),!1)},validFirstName:function(e){console.log("VALIDATION FIRSTNAME",e);var t=/^[a-zA-Z-._àâéèêô´`¨ ñÑî'ùûïÏäëüöÖÄçÀÂÉÈÔÙÛÇ]*$/;return t.test(e)},validLastName:function(e){console.log("VALIDATION LASTNAME",e);var t=/^[a-zA-Z-._àâéèêô´`¨ ñÑî'ùûïÏäëüöÖÄçÀÂÉÈÔÙÛÇ]*$/;return t.test(e)},validEmail:function(e){console.log("VALIDATION EMAIL",e);var t=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/g;return t.test(e)},validPassword:function(e){console.log("VALIDATION PASSWORD",e);var t=/^(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/g;return t.test(e)},signupPost:function(){const e=this;this.$store.dispatch("signupPost",{firstName:this.firstName,lastName:this.lastName,email:this.Email,password:this.password}).then((function(t){console.log("reponse",t),e.loginPost()})).catch((e=>{console.log(e)}))},loginPost:function(){const e=this;console.log(" LOGIN EMAIL",this.Email),this.$store.dispatch("loginPost",{email:this.Email,password:this.password}).then((t=>{console.log(t.data),e.$router.push("profil")})).catch((e=>{console.log("Restons calme login",e)}))}}},F=s(83744);const M=(0,F.Z)($,[["render",C],["__scopeId","data-v-18d8d95c"]]);var q=M},78199:function(e,t,s){"use strict";e.exports=s.p+"img/icon-left-font-monochrome-white.3302328a.svg"}},t={};function s(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(a.exports,a,a.exports,s),a.loaded=!0,a.exports}s.m=e,function(){var e=[];s.O=function(t,o,r,a){if(!o){var n=1/0;for(u=0;u<e.length;u++){o=e[u][0],r=e[u][1],a=e[u][2];for(var l=!0,i=0;i<o.length;i++)(!1&a||n>=a)&&Object.keys(s.O).every((function(e){return s.O[e](o[i])}))?o.splice(i--,1):(l=!1,a<n&&(n=a));if(l){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[o,r,a]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,o){return s.f[o](e,t),t}),[]))}}(),function(){s.u=function(e){return"js/"+e+"."+{583:"f0cb7f66",646:"950b4b13"}[e]+".js"}}(),function(){s.miniCssF=function(e){return"css/"+e+"."+{583:"80e5e135",646:"6d7e62d7"}[e]+".css"}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="frontend:";s.l=function(o,r,a,n){if(e[o])e[o].push(r);else{var l,i;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+a){l=d;break}}l||(i=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.setAttribute("data-webpack",t+a),l.src=o),e[o]=[r];var m=function(t,s){l.onerror=l.onload=null,clearTimeout(g);var r=e[o];if(delete e[o],l.parentNode&&l.parentNode.removeChild(l),r&&r.forEach((function(e){return e(s)})),t)return t(s)},g=setTimeout(m.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=m.bind(null,l.onerror),l.onload=m.bind(null,l.onload),i&&document.head.appendChild(l)}}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){s.p="/"}(),function(){var e=function(e,t,s,o){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var a=function(a){if(r.onerror=r.onload=null,"load"===a.type)s();else{var n=a&&("load"===a.type?"missing":a.type),l=a&&a.target&&a.target.href||t,i=new Error("Loading CSS chunk "+e+" failed.\n("+l+")");i.code="CSS_CHUNK_LOAD_FAILED",i.type=n,i.request=l,r.parentNode.removeChild(r),o(i)}};return r.onerror=r.onload=a,r.href=t,document.head.appendChild(r),r},t=function(e,t){for(var s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var r=s[o],a=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(a===e||a===t))return r}var n=document.getElementsByTagName("style");for(o=0;o<n.length;o++){r=n[o],a=r.getAttribute("data-href");if(a===e||a===t)return r}},o=function(o){return new Promise((function(r,a){var n=s.miniCssF(o),l=s.p+n;if(t(n,l))return r();e(o,l,r,a)}))},r={143:0};s.f.miniCss=function(e,t){var s={583:1,646:1};r[e]?t.push(r[e]):0!==r[e]&&s[e]&&t.push(r[e]=o(e).then((function(){r[e]=0}),(function(t){throw delete r[e],t})))}}(),function(){var e={143:0};s.f.j=function(t,o){var r=s.o(e,t)?e[t]:void 0;if(0!==r)if(r)o.push(r[2]);else{var a=new Promise((function(s,o){r=e[t]=[s,o]}));o.push(r[2]=a);var n=s.p+s.u(t),l=new Error,i=function(o){if(s.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var a=o&&("load"===o.type?"missing":o.type),n=o&&o.target&&o.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+n+")",l.name="ChunkLoadError",l.type=a,l.request=n,r[1](l)}};s.l(n,i,"chunk-"+t,t)}},s.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,a,n=o[0],l=o[1],i=o[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(r in l)s.o(l,r)&&(s.m[r]=l[r]);if(i)var u=i(s)}for(t&&t(o);c<n.length;c++)a=n[c],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(u)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(23301)}));o=s.O(o)})();
//# sourceMappingURL=app.2d531b56.js.map